FROM gradle:jdk23-graal AS build
WORKDIR /app
COPY . . 
RUN ./gradlew nativeCompile 

FROM scratch

# Copiar bin√°rio nativo da etapa anterior
COPY --from=build /app/build/native/nativeCompile/demo /demo

# Definir ponto de entrada
ENTRYPOINT ["/demo"]